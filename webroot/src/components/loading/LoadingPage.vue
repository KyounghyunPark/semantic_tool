<script>
export default {
  name: "LoadingPage",
  data() {
    return {
      isLoading: false,
    };
  },
  mounted() {
    setTimeout(() => {
      this.emitter.on("setLoading", this.setLoading);
    }, 1000);
  },
  beforeUnmount() {
    this.emitter.off("setLoading");
    this.isLoading = false;
  },
  methods: {
    setLoading(state) {
      this.isLoading = state;
    },
  },
};
</script>

<template>
  <transition name="fade">
    <div
      id="loadingPage"
      v-if="isLoading"
      style="
        display: flex;
        flex-direction: column;
        position: absolute;
        justify-content: center;
        width: 100%;
        height: 100%;
        background-color: #00000087;
      "
    >
      <div
        v-if="isLoading"
        style="width: 200px; height: 200px; align-self: center"
      >
        <!-- <svg version="1.1" id="L6" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve">
        <rect fill="none" stroke="#80ecda" stroke-width="4" x="25" y="25" width="50" height="50">
          <animateTransform attributeName="transform" dur="0.5s" from="0 50 50" to="180 50 50" type="rotate" id="strokeBox" attributeType="XML" begin="rectBox.end" />
        </rect>
        <rect x="27" y="27" fill="#80ecda" width="46" height="50">
          <animate attributeName="height" dur="1.3s" attributeType="XML" from="50" to="0" id="rectBox" fill="freeze" begin="0s;strokeBox.end" />
        </rect>
      </svg> -->

        <svg
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          style="
            margin: auto;
            background: rgba(241, 242, 243, 0);
            display: block;
            shape-rendering: auto;
          "
          width="164px"
          height="164px"
          viewBox="0 0 100 100"
          preserveAspectRatio="xMidYMid"
        >
          <g transform="translate(50 50)">
            <g transform="translate(-19 -19) scale(0.6)">
              <g>
                <animateTransform
                  attributeName="transform"
                  type="rotate"
                  values="0;45"
                  keyTimes="0;1"
                  dur="0.3333333333333333s"
                  begin="0s"
                  repeatCount="indefinite"
                ></animateTransform>
                <path
                  d="M31.6448080291428 21.038206311344588 L39.42298262219482 28.81638090439661 L28.81638090439661 39.42298262219482 L21.038206311344588 31.6448080291428 A38 38 0 0 1 7.499999999999998 37.25251669350676 L7.499999999999998 37.25251669350676 L7.499999999999999 48.25251669350676 L-7.499999999999993 48.25251669350676 L-7.499999999999994 37.25251669350676 A38 38 0 0 1 -21.038206311344588 31.6448080291428 L-21.038206311344588 31.6448080291428 L-28.81638090439661 39.42298262219482 L-39.42298262219482 28.816380904396613 L-31.644808029142798 21.03820631134459 A38 38 0 0 1 -37.25251669350676 7.5 L-37.25251669350676 7.5 L-48.25251669350676 7.500000000000001 L-48.25251669350676 -7.499999999999991 L-37.25251669350676 -7.499999999999992 A38 38 0 0 1 -31.6448080291428 -21.038206311344588 L-31.6448080291428 -21.038206311344588 L-39.42298262219482 -28.81638090439661 L-28.816380904396606 -39.42298262219482 L-21.038206311344585 -31.644808029142805 A38 38 0 0 1 -7.5000000000000195 -37.252516693506756 L-7.5000000000000195 -37.252516693506756 L-7.500000000000021 -48.252516693506756 L7.5000000000000036 -48.25251669350676 L7.500000000000005 -37.25251669350676 A38 38 0 0 1 21.038206311344574 -31.644808029142816 L21.038206311344574 -31.644808029142816 L28.816380904396595 -39.42298262219484 L39.42298262219482 -28.81638090439661 L31.644808029142805 -21.038206311344585 A38 38 0 0 1 37.252516693506756 -7.500000000000021 L37.252516693506756 -7.500000000000021 L48.252516693506756 -7.500000000000024 L48.25251669350676 7.500000000000001 L37.25251669350676 7.5000000000000036 A38 38 0 0 1 31.644808029142816 21.038206311344567 M0 -29A29 29 0 1 0 0 29 A29 29 0 1 0 0 -29"
                  fill="#c2f2ff"
                ></path>
              </g>
            </g>
            <g transform="translate(19 19) scale(0.6)">
              <g>
                <animateTransform
                  attributeName="transform"
                  type="rotate"
                  values="45;0"
                  keyTimes="0;1"
                  dur="0.3333333333333333s"
                  begin="-0.16666666666666666s"
                  repeatCount="indefinite"
                ></animateTransform>
                <path
                  d="M-31.6448080291428 -21.038206311344588 L-39.42298262219482 -28.81638090439661 L-28.816380904396606 -39.42298262219482 L-21.038206311344585 -31.644808029142805 A38 38 0 0 1 -7.5000000000000195 -37.252516693506756 L-7.5000000000000195 -37.252516693506756 L-7.500000000000021 -48.252516693506756 L7.5000000000000036 -48.25251669350676 L7.500000000000005 -37.25251669350676 A38 38 0 0 1 21.038206311344574 -31.644808029142816 L21.038206311344574 -31.644808029142816 L28.816380904396595 -39.42298262219484 L39.42298262219482 -28.81638090439661 L31.644808029142805 -21.038206311344585 A38 38 0 0 1 37.252516693506756 -7.500000000000021 L37.252516693506756 -7.500000000000021 L48.252516693506756 -7.500000000000024 L48.25251669350676 7.500000000000001 L37.25251669350676 7.5000000000000036 A38 38 0 0 1 31.644808029142816 21.038206311344567 L31.644808029142816 21.038206311344567 L39.422982622194844 28.81638090439659 L28.816380904396613 39.42298262219482 L21.038206311344588 31.6448080291428 A38 38 0 0 1 7.500000000000023 37.252516693506756 L7.500000000000023 37.252516693506756 L7.500000000000027 48.252516693506756 L-7.499999999999997 48.25251669350676 L-7.500000000000001 37.25251669350676 A38 38 0 0 1 -21.03820631134454 31.644808029142837 L-21.03820631134454 31.644808029142837 L-28.816380904396553 39.42298262219487 L-39.422982622194795 28.816380904396652 L-31.644808029142784 21.03820631134462 A38 38 0 0 1 -37.252516693506756 7.500000000000027 L-37.252516693506756 7.500000000000027 L-48.252516693506756 7.500000000000031 L-48.25251669350676 -7.499999999999995 L-37.25251669350676 -7.499999999999999 A38 38 0 0 1 -31.644808029142798 -21.03820631134459 M0 -29A29 29 0 1 0 0 29 A29 29 0 1 0 0 -29"
                  fill="#79defa"
                ></path>
              </g>
            </g>
          </g>
        </svg>
      </div>
    </div>
  </transition>
</template>
